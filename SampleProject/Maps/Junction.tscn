[gd_scene load_steps=5 format=4 uid="uid://bikgu4uxf7vxt"]

[ext_resource type="TileSet" uid="uid://bwpcg2opya34n" path="res://SampleProject/Resources/Tileset.tres" id="1_oj4y1"]
[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="2_mlr6y"]
[ext_resource type="PackedScene" uid="uid://c8j6i3fx8p758" path="res://SampleProject/Objects/Collectible.tscn" id="3_whicd"]

[sub_resource type="GDScript" id="GDScript_taojh"]
script/source = "# This is a special config script that determines the scene's content.  The \"content\" in this case are the available exits and existence of collectible.
extends Node
# These variable are set after the scene is instantiated (see Game.gd).
var exits: int
var has_collectible: bool

# Remove the walls and collectible, based on the config values.
func apply_config():
	for i in 4:
		%TileMap.get_child(i + 2).enabled = not bool(exits & 1 << i)
	
	if not has_collectible:
		%Collectible.free()
"

[node name="Map" type="Node2D"]
script = SubResource("GDScript_taojh")

[node name="TileMap" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Foreground" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQAAwAIAAcAAAAAAAUAAwAIAAcAAAAAAAYAAwAIAAcAAAAAAAcAAwAIAAcAAAAAAAgAAwAIAAgAAAAAAAwAAwAIAAYAAAAAAA0AAwAIAAcAAAAAAA4AAwAIAAcAAAABAAQAAwAIAAcAAAABAAUAAwAIAAcAAAABAAYAAwAIAAcAAAABAAcAAwAIAAcAAAABAAgAAwAIAAgAAAABAAwAAwAIAAYAAAABAA0AAwAIAAcAAAABAA4AAwAIAAcAAAACAAQAAwAJAAcAAAACAAUAAwAJAAcAAAACAAYAAwAJAAcAAAACAAcAAwAJAAcAAAACAAgAAwAJAAgAAAACAAwAAwAIAAYAAAACAA0AAwAIAAcAAAACAA4AAwAIAAcAAAADAAwAAwAIAAYAAAADAA0AAwAIAAcAAAADAA4AAwAIAAcAAAAEAAwAAwAIAAYAAAAEAA0AAwAIAAcAAAAEAA4AAwAIAAcAAAAFAAwAAwAIAAYAAAAFAA0AAwAIAAcAAAAFAA4AAwAIAAcAAAAGAAwAAwAIAAYAAAAGAA0AAwAIAAcAAAAGAA4AAwAIAAcAAAAHAAwAAwAIAAYAAAAHAA0AAwAIAAcAAAAHAA4AAwAIAAcAAAAIAAwAAwAIAAYAAAAIAA0AAwAIAAcAAAAIAA4AAwAIAAcAAAAJAAwAAwAIAAYAAAAJAA0AAwAIAAcAAAAJAA4AAwAIAAcAAAAKAAwAAwAIAAYAAAAKAA0AAwAIAAcAAAAKAA4AAwAIAAcAAAALAAwAAwAJAAYAAAALAA0AAwAJAAcAAAALAA4AAwAJAAcAAAAPAAwAAwAHAAYAAAAPAA0AAwAHAAcAAAAPAA4AAwAHAAcAAAAQAAwAAwAIAAYAAAAQAA0AAwAIAAcAAAAQAA4AAwAIAAcAAAARAAwAAwAIAAYAAAARAA0AAwAIAAcAAAARAA4AAwAIAAcAAAASAAwAAwAIAAYAAAASAA0AAwAIAAcAAAASAA4AAwAIAAcAAAATAAwAAwAIAAYAAAATAA0AAwAIAAcAAAATAA4AAwAIAAcAAAAUAAwAAwAIAAYAAAAUAA0AAwAIAAcAAAAUAA4AAwAIAAcAAAAVAAwAAwAIAAYAAAAVAA0AAwAIAAcAAAAVAA4AAwAIAAcAAAAWAAwAAwAIAAYAAAAWAA0AAwAIAAcAAAAWAA4AAwAIAAcAAAAXAAwAAwAIAAYAAAAXAA0AAwAIAAcAAAAXAA4AAwAIAAcAAAAYAAwAAwAIAAYAAAAYAA0AAwAIAAcAAAAYAA4AAwAIAAcAAAAZAAwAAwAIAAYAAAAZAA0AAwAIAAcAAAAZAA4AAwAIAAcAAAAaAAwAAwAIAAYAAAAaAA0AAwAIAAcAAAAaAA4AAwAIAAcAAAAYAAUAAwAHAAcAAAAYAAYAAwAHAAcAAAAYAAcAAwAHAAcAAAAYAAgAAwAHAAgAAAAZAAUAAwAIAAcAAAAZAAYAAwAIAAcAAAAZAAcAAwAIAAcAAAAZAAgAAwAIAAgAAAAaAAUAAwAIAAcAAAAaAAYAAwAIAAcAAAAaAAcAAwAIAAcAAAAaAAgAAwAIAAgAAAAYAAMAAwAKAAoAAAACAAMAAwAJAAoAAAADAAMAAwAIAAgAAAAEAAMAAwAIAAgAAAAFAAMAAwAIAAgAAAAGAAMAAwAIAAgAAAAHAAMAAwAIAAgAAAAIAAMAAwAIAAgAAAAJAAMAAwAIAAgAAAAKAAMAAwAIAAgAAAALAAMAAwAJAAgAAAAQAAMAAwAIAAgAAAARAAMAAwAIAAgAAAASAAMAAwAIAAgAAAATAAMAAwAIAAgAAAAUAAMAAwAIAAgAAAAVAAMAAwAIAAgAAAAWAAMAAwAIAAgAAAAXAAMAAwAIAAgAAAAYAAQAAwAHAAcAAAADAAAAAwAIAAcAAAABAAIAAwAIAAcAAAABAAEAAwAIAAcAAAABAAAAAwAIAAcAAAAAAAAAAwAIAAcAAAAAAAEAAwAIAAcAAAAAAAIAAwAIAAcAAAAAAAMAAwAIAAcAAAABAAMAAwAIAAcAAAACAAAAAwAIAAcAAAACAAEAAwAIAAcAAAACAAIAAwAIAAcAAAADAAIAAwAIAAcAAAADAAEAAwAIAAcAAAAEAAEAAwAIAAcAAAAEAAAAAwAIAAcAAAAFAAAAAwAIAAcAAAAFAAEAAwAIAAcAAAAFAAIAAwAIAAcAAAAEAAIAAwAIAAcAAAAGAAIAAwAIAAcAAAAGAAEAAwAIAAcAAAAGAAAAAwAIAAcAAAAHAAAAAwAIAAcAAAAHAAEAAwAIAAcAAAAHAAIAAwAIAAcAAAAIAAIAAwAIAAcAAAAIAAEAAwAIAAcAAAAIAAAAAwAIAAcAAAAJAAAAAwAIAAcAAAAJAAEAAwAIAAcAAAAJAAIAAwAIAAcAAAAKAAIAAwAIAAcAAAAKAAEAAwAIAAcAAAAKAAAAAwAIAAcAAAALAAAAAwAJAAcAAAALAAEAAwAJAAcAAAALAAIAAwAJAAcAAAAQAAIAAwAIAAcAAAAQAAEAAwAIAAcAAAAQAAAAAwAIAAcAAAARAAAAAwAIAAcAAAARAAEAAwAIAAcAAAARAAIAAwAIAAcAAAASAAIAAwAIAAcAAAASAAEAAwAIAAcAAAASAAAAAwAIAAcAAAATAAAAAwAIAAcAAAATAAEAAwAIAAcAAAATAAIAAwAIAAcAAAAUAAIAAwAIAAcAAAAUAAEAAwAIAAcAAAAUAAAAAwAIAAcAAAAVAAAAAwAIAAcAAAAVAAEAAwAIAAcAAAAVAAIAAwAIAAcAAAAWAAIAAwAIAAcAAAAWAAEAAwAIAAcAAAAWAAAAAwAIAAcAAAAXAAAAAwAIAAcAAAAXAAEAAwAIAAcAAAAXAAIAAwAIAAcAAAAYAAIAAwAIAAcAAAAYAAEAAwAIAAcAAAAYAAAAAwAIAAcAAAAZAAAAAwAIAAcAAAAZAAEAAwAIAAcAAAAZAAIAAwAIAAcAAAAZAAMAAwAIAAcAAAAZAAQAAwAIAAcAAAAaAAQAAwAIAAcAAAAaAAMAAwAIAAcAAAAaAAIAAwAIAAcAAAAaAAEAAwAIAAcAAAAaAAAAAwAIAAcAAAAPAAAAAwAHAAcAAAAPAAEAAwAHAAcAAAAPAAIAAwAHAAcAAAAPAAMAAwAHAAgAAAAMAA4AAwAAAAAAAAANAA4AAwABAAAAAAAOAA4AAwACAAAAAAAMAAIAAwAAAAAAAAANAAIAAwABAAAAAAAOAAIAAwACAAAAAAAMAAUAAwAAAAAAAAANAAUAAwABAAAAAAAOAAUAAwACAAAAAAAMAAgAAwAAAAAAAAANAAgAAwABAAAAAAAOAAgAAwACAAAAAAAIAAoAAwAAAAAAAAAJAAoAAwABAAAAAAAKAAoAAwACAAAAAAAQAAoAAwAAAAAAAAARAAoAAwABAAAAAAASAAoAAwACAAAAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="Background" type="TileMapLayer" parent="TileMap"]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAADAAQAAwAIAAEAAAADAAUAAwAIAAEAAAADAAYAAwAIAAEAAAADAAcAAwAIAAEAAAADAAgAAwAIAAEAAAADAAkAAwAIAAEAAAADAAoAAwAIAAEAAAAEAAQAAwAIAAEAAAAEAAUAAwAIAAEAAAAEAAYAAwAIAAEAAAAEAAcAAwAIAAEAAAAEAAgAAwAIAAEAAAAEAAkAAwAIAAEAAAAEAAoAAwAIAAEAAAAFAAQAAwAIAAEAAAAFAAUAAwAIAAEAAAAFAAYAAwAIAAEAAAAFAAcAAwAIAAEAAAAFAAgAAwAIAAEAAAAFAAkAAwAIAAEAAAAFAAoAAwAIAAEAAAAGAAQAAwAIAAEAAAAGAAUAAwAIAAEAAAAGAAYAAwAIAAEAAAAGAAcAAwAIAAEAAAAGAAgAAwAIAAEAAAAGAAkAAwAIAAEAAAAGAAoAAwAIAAEAAAAHAAQAAwAIAAEAAAAHAAUAAwAIAAEAAAAHAAYAAwAIAAEAAAAHAAcAAwAIAAEAAAAHAAgAAwAIAAEAAAAHAAkAAwAIAAEAAAAHAAoAAwAIAAEAAAAIAAQAAwAIAAEAAAAIAAUAAwAIAAEAAAAIAAYAAwAIAAEAAAAIAAcAAwAIAAEAAAAIAAgAAwAIAAEAAAAIAAkAAwAIAAEAAAAIAAoAAwAIAAEAAAAJAAQAAwAIAAEAAAAJAAUAAwAIAAEAAAAJAAYAAwAIAAEAAAAJAAcAAwAIAAEAAAAJAAgAAwAIAAEAAAAJAAkAAwAIAAEAAAAJAAoAAwAIAAEAAAAKAAQAAwAIAAEAAAAKAAUAAwAIAAEAAAAKAAYAAwAIAAEAAAAKAAcAAwAIAAEAAAAKAAgAAwAIAAEAAAAKAAkAAwAIAAEAAAAKAAoAAwAIAAEAAAALAAQAAwAIAAEAAAALAAUAAwAIAAEAAAALAAYAAwAIAAEAAAALAAcAAwAIAAEAAAALAAgAAwAIAAEAAAALAAkAAwAIAAEAAAALAAoAAwAIAAEAAAAMAAQAAwAIAAEAAAAMAAUAAwAIAAEAAAAMAAYAAwAIAAEAAAAMAAcAAwAIAAEAAAAMAAgAAwAIAAEAAAAMAAkAAwAIAAEAAAAMAAoAAwAIAAEAAAANAAQAAwAIAAEAAAANAAUAAwAIAAEAAAANAAYAAwAIAAEAAAANAAcAAwAIAAEAAAANAAgAAwAIAAEAAAANAAkAAwAIAAEAAAANAAoAAwAIAAEAAAAOAAQAAwAIAAEAAAAOAAUAAwAIAAEAAAAOAAYAAwAIAAEAAAAOAAcAAwAIAAEAAAAOAAgAAwAIAAEAAAAOAAkAAwAIAAEAAAAOAAoAAwAIAAEAAAAPAAQAAwAIAAEAAAAPAAUAAwAIAAEAAAAPAAYAAwAIAAEAAAAPAAcAAwAIAAEAAAAPAAgAAwAIAAEAAAAPAAkAAwAIAAEAAAAPAAoAAwAIAAEAAAAQAAQAAwAIAAEAAAAQAAUAAwAIAAEAAAAQAAYAAwAIAAEAAAAQAAcAAwAIAAEAAAAQAAgAAwAIAAEAAAAQAAkAAwAIAAEAAAAQAAoAAwAIAAEAAAARAAQAAwAIAAEAAAARAAUAAwAIAAEAAAARAAYAAwAIAAEAAAARAAcAAwAIAAEAAAARAAgAAwAIAAEAAAARAAkAAwAIAAEAAAARAAoAAwAIAAEAAAASAAQAAwAIAAEAAAASAAUAAwAIAAEAAAASAAYAAwAIAAEAAAASAAcAAwAIAAEAAAASAAgAAwAIAAEAAAASAAkAAwAIAAEAAAASAAoAAwAIAAEAAAATAAQAAwAIAAEAAAATAAUAAwAIAAEAAAATAAYAAwAIAAEAAAATAAcAAwAIAAEAAAATAAgAAwAIAAEAAAATAAkAAwAIAAEAAAATAAoAAwAIAAEAAAAUAAQAAwAIAAEAAAAUAAUAAwAIAAEAAAAUAAYAAwAIAAEAAAAUAAcAAwAIAAEAAAAUAAgAAwAIAAEAAAAUAAkAAwAIAAEAAAAUAAoAAwAIAAEAAAAVAAQAAwAIAAEAAAAVAAUAAwAIAAEAAAAVAAYAAwAIAAEAAAAVAAcAAwAIAAEAAAAVAAgAAwAIAAEAAAAVAAkAAwAIAAEAAAAVAAoAAwAIAAEAAAAWAAQAAwAIAAEAAAAWAAUAAwAIAAEAAAAWAAYAAwAIAAEAAAAWAAcAAwAIAAEAAAAWAAgAAwAIAAEAAAAWAAkAAwAIAAEAAAAWAAoAAwAIAAEAAAADAAsAAwAIAAEAAAAEAAsAAwAIAAEAAAAFAAsAAwAIAAEAAAAGAAsAAwAIAAEAAAAHAAsAAwAIAAEAAAAIAAsAAwAIAAEAAAAJAAsAAwAIAAEAAAAKAAsAAwAIAAEAAAALAAsAAwAIAAEAAAAMAAsAAwAIAAEAAAANAAsAAwAIAAEAAAAOAAsAAwAIAAEAAAAPAAsAAwAIAAEAAAAQAAsAAwAIAAEAAAARAAsAAwAIAAEAAAASAAsAAwAIAAEAAAATAAsAAwAIAAEAAAAUAAsAAwAIAAEAAAAVAAsAAwAIAAEAAAAWAAsAAwAIAAEAAAAXAAkAAwAIAAEAAAAXAAoAAwAIAAEAAAAXAAsAAwAIAAEAAAAYAAkAAwAIAAEAAAAYAAoAAwAIAAEAAAAYAAsAAwAIAAEAAAAZAAkAAwAIAAEAAAAZAAoAAwAIAAEAAAAZAAsAAwAIAAEAAAAaAAkAAwAIAAEAAAAaAAoAAwAIAAEAAAAaAAsAAwAIAAEAAAAXAAQAAwAIAAEAAAAXAAUAAwAIAAEAAAAXAAYAAwAIAAEAAAAXAAcAAwAIAAEAAAAXAAgAAwAIAAEAAAAAAAkAAwAIAAEAAAAAAAoAAwAIAAEAAAAAAAsAAwAIAAEAAAABAAkAAwAIAAEAAAABAAoAAwAIAAEAAAABAAsAAwAIAAEAAAACAAkAAwAIAAEAAAACAAoAAwAIAAEAAAACAAsAAwAIAAEAAAAMAAAAAwAIAAEAAAANAAAAAwAIAAEAAAAMAAEAAwAIAAEAAAANAAEAAwAIAAEAAAAMAAIAAwAIAAEAAAANAAIAAwAIAAEAAAAMAAMAAwAIAAEAAAANAAMAAwAIAAEAAAAMAAwAAwAIAAEAAAANAAwAAwAIAAEAAAAMAA0AAwAIAAEAAAANAA0AAwAIAAEAAAAMAA4AAwAIAAEAAAANAA4AAwAIAAEAAAAOAAAAAwAIAAEAAAAOAAEAAwAIAAEAAAAOAAIAAwAIAAEAAAAOAAMAAwAIAAEAAAAOAAwAAwAIAAEAAAAOAA0AAwAIAAEAAAAOAA4AAwAIAAEAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="RightWall" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAYAAgAAwAHAAcAAAAYAAkAAwAHAAcAAAAYAAoAAwAHAAcAAAAYAAsAAwAHAAcAAAAYAAwAAwAKAAsAAAAZAAgAAwAIAAcAAAAZAAkAAwAIAAcAAAAZAAoAAwAIAAcAAAAZAAsAAwAIAAcAAAAZAAwAAwAIAAcAAAAaAAgAAwAIAAcAAAAaAAkAAwAIAAcAAAAaAAoAAwAIAAcAAAAaAAsAAwAIAAcAAAAaAAwAAwAIAAcAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="BottomWall (aka floor)" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAALAAwAAwAIAAYAAAAMAAwAAwAIAAYAAAANAAwAAwAIAAYAAAAOAAwAAwAIAAYAAAAPAAwAAwAIAAYAAAALAA0AAwAIAAcAAAALAA4AAwAIAAcAAAAMAA0AAwAIAAcAAAAMAA4AAwAIAAcAAAANAA0AAwAIAAcAAAANAA4AAwAIAAcAAAAOAA0AAwAIAAcAAAAOAA4AAwAIAAcAAAAPAA0AAwAIAAcAAAAPAA4AAwAIAAcAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="LeftWall" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAACAAgAAwAJAAcAAAACAAkAAwAJAAcAAAACAAoAAwAJAAcAAAACAAsAAwAJAAcAAAACAAwAAwAJAAsAAAAAAAgAAwAIAAcAAAAAAAkAAwAIAAcAAAAAAAoAAwAIAAcAAAAAAAsAAwAIAAcAAAAAAAwAAwAIAAcAAAABAAgAAwAIAAcAAAABAAkAAwAIAAcAAAABAAoAAwAIAAcAAAABAAsAAwAIAAcAAAABAAwAAwAIAAcAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="TopWall (aka ceiling)" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAALAAMAAwAIAAgAAAAMAAMAAwAIAAgAAAANAAMAAwAIAAgAAAAOAAMAAwAIAAgAAAAPAAMAAwAIAAgAAAALAAAAAwAIAAcAAAALAAEAAwAIAAcAAAALAAIAAwAIAAcAAAAMAAAAAwAIAAcAAAAMAAEAAwAIAAcAAAAMAAIAAwAIAAcAAAANAAAAAwAIAAcAAAANAAEAAwAIAAcAAAANAAIAAwAIAAcAAAAOAAAAAwAIAAcAAAAOAAEAAwAIAAcAAAAOAAIAAwAIAAcAAAAPAAAAAwAIAAcAAAAPAAEAAwAIAAcAAAAPAAIAAwAIAAcAAAA=")
tile_set = ExtResource("1_oj4y1")

[node name="RoomInstance" parent="." instance=ExtResource("2_mlr6y")]

[node name="Collectible" parent="." instance=ExtResource("3_whicd")]
unique_name_in_owner = true
position = Vector2(432, 232)
metadata/object_id = "random_collectible"
