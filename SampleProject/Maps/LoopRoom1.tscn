[gd_scene load_steps=7 format=4 uid="uid://cd5hqa33mccnu"]

[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="1_haetb"]
[ext_resource type="TileSet" uid="uid://bwpcg2opya34n" path="res://SampleProject/Resources/Tileset.tres" id="2_haetb"]
[ext_resource type="Script" uid="uid://b7ocxe212putd" path="res://SampleProject/Scripts/LoopScript.gd" id="3_nbwjy"]
[ext_resource type="PackedScene" uid="uid://c8j6i3fx8p758" path="res://SampleProject/Objects/Collectible.tscn" id="4_vw2xq"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_56li3"]
size = Vector2(32, 96)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vw2xq"]
size = Vector2(20, 96)

[node name="Map" type="Node2D"]

[node name="RoomInstance" parent="." instance=ExtResource("1_haetb")]

[node name="TileMap" type="Node2D" parent="."]

[node name="Foreground" type="TileMapLayer" parent="TileMap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAMAAAAAgAJAAcAAAAMAAEAAgAJAAgAAAALAAEAAgAIAAgAAAAKAAEAAgAIAAgAAAAJAAEAAgAIAAgAAAAIAAEAAgAIAAgAAAAHAAEAAgAIAAgAAAAGAAEAAgAIAAgAAAAFAAEAAgAIAAgAAAAEAAEAAgAIAAgAAAADAAEAAgAIAAgAAAACAAEAAgAIAAgAAAABAAEAAgAIAAgAAAAAAAEAAgAIAAgAAAAOAAAAAgAHAAcAAAAOAAEAAgAHAAgAAAAPAAEAAgAIAAgAAAAQAAEAAgAIAAgAAAARAAEAAgAIAAgAAAASAAEAAgAIAAgAAAATAAEAAgAIAAgAAAAUAAEAAgAIAAgAAAAVAAEAAgAIAAgAAAAWAAEAAgAIAAgAAAAXAAEAAgAIAAgAAAAYAAEAAgAIAAgAAAAZAAEAAgAIAAgAAAAaAAEAAgAIAAgAAAAAAAAAAgAIAAcAAAABAAAAAgAIAAcAAAACAAAAAgAIAAcAAAADAAAAAgAIAAcAAAAEAAAAAgAIAAcAAAAFAAAAAgAIAAcAAAAGAAAAAgAIAAcAAAAHAAAAAgAIAAcAAAAIAAAAAgAIAAcAAAAJAAAAAgAIAAcAAAAKAAAAAgAIAAcAAAALAAAAAgAIAAcAAAAPAAAAAgAIAAcAAAAQAAAAAgAIAAcAAAARAAAAAgAIAAcAAAASAAAAAgAIAAcAAAATAAAAAgAIAAcAAAAUAAAAAgAIAAcAAAAVAAAAAgAIAAcAAAAWAAAAAgAIAAcAAAAXAAAAAgAIAAcAAAAYAAAAAgAIAAcAAAAZAAAAAgAIAAcAAAAaAAAAAgAIAAcAAAAAAA0AAgAIAAYAAAAAAA4AAgAIAAcAAAABAA0AAgAIAAYAAAABAA4AAgAIAAcAAAACAA0AAgAIAAYAAAACAA4AAgAIAAcAAAADAA0AAgAIAAYAAAADAA4AAgAIAAcAAAAEAA0AAgAIAAYAAAAEAA4AAgAIAAcAAAAFAA0AAgAIAAYAAAAFAA4AAgAIAAcAAAAGAA0AAgAIAAYAAAAGAA4AAgAIAAcAAAAHAA0AAgAIAAYAAAAHAA4AAgAIAAcAAAAIAA0AAgAIAAYAAAAIAA4AAgAIAAcAAAAJAA0AAgAIAAYAAAAJAA4AAgAIAAcAAAAKAA0AAgAIAAYAAAAKAA4AAgAIAAcAAAALAA0AAgAIAAYAAAALAA4AAgAIAAcAAAAMAA0AAgAIAAYAAAAMAA4AAgAIAAcAAAANAA0AAgAIAAYAAAANAA4AAgAIAAcAAAAOAA0AAgAIAAYAAAAOAA4AAgAIAAcAAAAPAA0AAgAIAAYAAAAPAA4AAgAIAAcAAAAQAA0AAgAIAAYAAAAQAA4AAgAIAAcAAAARAA0AAgAIAAYAAAARAA4AAgAIAAcAAAASAA0AAgAIAAYAAAASAA4AAgAIAAcAAAATAA0AAgAIAAYAAAATAA4AAgAIAAcAAAAUAA0AAgAIAAYAAAAUAA4AAgAIAAcAAAAVAA0AAgAIAAYAAAAVAA4AAgAIAAcAAAAWAA0AAgAIAAYAAAAWAA4AAgAIAAcAAAAXAA0AAgAIAAYAAAAXAA4AAgAIAAcAAAAYAA0AAgAIAAYAAAAYAA4AAgAIAAcAAAAZAA0AAgAIAAYAAAAZAA4AAgAIAAcAAAAaAA0AAgAIAAYAAAAaAA4AAgAIAAcAAAAMAAMAAgAAAAAAAAANAAMAAgABAAAAAAAOAAMAAgACAAAAAAAMAAkAAgAAAAAAAAANAAkAAgABAAAAAAAOAAkAAgACAAAAAAAEAAUAAgAJAAkAAAAEAAkAAgAJAAkAAAADAAkAAgAIAAkAAAACAAkAAgAIAAkAAAAAAAkAAgAIAAkAAAABAAkAAgAIAAkAAAADAAUAAgAIAAkAAAACAAUAAgAIAAkAAAABAAUAAgAIAAkAAAAAAAUAAgAIAAkAAAAEAAYAAgAKAAYAAAAEAAcAAgAKAAcAAAAEAAgAAgAKAAgAAAAGAAIAAgAKAAYAAAAGAAMAAgAKAAcAAAAGAAQAAgAKAAcAAAAGAAUAAgAKAAcAAAAGAAYAAgAKAAcAAAAGAAcAAgAKAAcAAAAGAAgAAgAKAAgAAAAZAAUAAgAIAAkAAAAZAAkAAgAIAAkAAAAaAAUAAgAIAAkAAAAaAAkAAgAIAAkAAAAYAAkAAgAHAAkAAAAYAAUAAgAHAAkAAAA=")
tile_set = ExtResource("2_haetb")

[node name="Backgroud" type="TileMapLayer" parent="TileMap"]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAIAAgAIAAEAAAAAAAMAAgAIAAEAAAAAAAQAAgAIAAEAAAABAAIAAgAIAAEAAAABAAMAAgAIAAEAAAABAAQAAgAIAAEAAAACAAIAAgAIAAEAAAACAAMAAgAIAAEAAAACAAQAAgAIAAEAAAADAAIAAgAIAAEAAAADAAMAAgAIAAEAAAADAAQAAgAIAAEAAAAEAAIAAgAIAAEAAAAEAAMAAgAIAAEAAAAEAAQAAgAIAAEAAAAFAAIAAgAIAAEAAAAFAAMAAgAIAAEAAAAFAAQAAgAIAAEAAAAFAAUAAgAIAAEAAAAFAAYAAgAIAAEAAAAFAAcAAgAIAAEAAAAFAAgAAgAIAAEAAAAFAAkAAgAIAAEAAAAFAAoAAgAIAAEAAAAFAAsAAgAIAAEAAAAFAAwAAgAIAAEAAAAAAAYAAgAIAAEAAAAAAAcAAgAIAAEAAAAAAAgAAgAIAAEAAAABAAYAAgAIAAEAAAABAAcAAgAIAAEAAAABAAgAAgAIAAEAAAACAAYAAgAIAAEAAAACAAcAAgAIAAEAAAACAAgAAgAIAAEAAAADAAYAAgAIAAEAAAADAAcAAgAIAAEAAAADAAgAAgAIAAEAAAAAAAoAAgAIAAEAAAAAAAsAAgAIAAEAAAAAAAwAAgAIAAEAAAABAAoAAgAIAAEAAAABAAsAAgAIAAEAAAABAAwAAgAIAAEAAAACAAoAAgAIAAEAAAACAAsAAgAIAAEAAAACAAwAAgAIAAEAAAADAAoAAgAIAAEAAAADAAsAAgAIAAEAAAADAAwAAgAIAAEAAAAEAAoAAgAIAAEAAAAEAAsAAgAIAAEAAAAEAAwAAgAIAAEAAAAYAAIAAgAIAAEAAAAYAAMAAgAIAAEAAAAYAAQAAgAIAAEAAAAZAAIAAgAIAAEAAAAZAAMAAgAIAAEAAAAZAAQAAgAIAAEAAAAaAAIAAgAIAAEAAAAaAAMAAgAIAAEAAAAaAAQAAgAIAAEAAAAIAAIAAgAIAAEAAAAIAAMAAgAIAAEAAAAIAAQAAgAIAAEAAAAIAAUAAgAIAAEAAAAIAAYAAgAIAAEAAAAIAAcAAgAIAAEAAAAIAAgAAgAIAAEAAAAIAAkAAgAIAAEAAAAIAAoAAgAIAAEAAAAIAAsAAgAIAAEAAAAIAAwAAgAIAAEAAAAJAAIAAgAIAAEAAAAJAAMAAgAIAAEAAAAJAAQAAgAIAAEAAAAJAAUAAgAIAAEAAAAJAAYAAgAIAAEAAAAJAAcAAgAIAAEAAAAJAAgAAgAIAAEAAAAJAAkAAgAIAAEAAAAJAAoAAgAIAAEAAAAJAAsAAgAIAAEAAAAJAAwAAgAIAAEAAAAKAAIAAgAIAAEAAAAKAAMAAgAIAAEAAAAKAAQAAgAIAAEAAAAKAAUAAgAIAAEAAAAKAAYAAgAIAAEAAAAKAAcAAgAIAAEAAAAKAAgAAgAIAAEAAAAKAAkAAgAIAAEAAAAKAAoAAgAIAAEAAAAKAAsAAgAIAAEAAAAKAAwAAgAIAAEAAAALAAIAAgAIAAEAAAALAAMAAgAIAAEAAAALAAQAAgAIAAEAAAALAAUAAgAIAAEAAAALAAYAAgAIAAEAAAALAAcAAgAIAAEAAAALAAgAAgAIAAEAAAALAAkAAgAIAAEAAAALAAoAAgAIAAEAAAALAAsAAgAIAAEAAAALAAwAAgAIAAEAAAAMAAIAAgAIAAEAAAAMAAMAAgAIAAEAAAAMAAQAAgAIAAEAAAAMAAUAAgAIAAEAAAAMAAYAAgAIAAEAAAAMAAcAAgAIAAEAAAAMAAgAAgAIAAEAAAAMAAkAAgAIAAEAAAAMAAoAAgAIAAEAAAAMAAsAAgAIAAEAAAAMAAwAAgAIAAEAAAANAAIAAgAIAAEAAAANAAMAAgAIAAEAAAANAAQAAgAIAAEAAAANAAUAAgAIAAEAAAANAAYAAgAKAAAAAAANAAcAAgAKAAEAAAANAAgAAgAKAAIAAAANAAkAAgAIAAEAAAANAAoAAgAIAAEAAAANAAsAAgAIAAEAAAANAAwAAgAIAAEAAAAOAAIAAgAIAAEAAAAOAAMAAgAIAAEAAAAOAAQAAgAIAAEAAAAOAAUAAgAIAAEAAAAOAAYAAgAIAAEAAAAOAAcAAgAIAAEAAAAOAAgAAgAIAAEAAAAOAAkAAgAIAAEAAAAOAAoAAgAIAAEAAAAOAAsAAgAIAAEAAAAOAAwAAgAIAAEAAAAPAAIAAgAIAAEAAAAPAAMAAgAIAAEAAAAPAAQAAgAIAAEAAAAPAAUAAgAIAAEAAAAPAAYAAgAIAAEAAAAPAAcAAgAIAAEAAAAPAAgAAgAIAAEAAAAPAAkAAgAIAAEAAAAPAAoAAgAIAAEAAAAPAAsAAgAIAAEAAAAPAAwAAgAIAAEAAAAQAAIAAgAIAAEAAAAQAAMAAgAIAAEAAAAQAAQAAgAIAAEAAAAQAAUAAgAIAAEAAAAQAAYAAgAIAAEAAAAQAAcAAgAIAAEAAAAQAAgAAgAIAAEAAAAQAAkAAgAIAAEAAAAQAAoAAgAIAAEAAAAQAAsAAgAIAAEAAAAQAAwAAgAIAAEAAAARAAIAAgAIAAEAAAARAAMAAgAIAAEAAAARAAQAAgAIAAEAAAARAAUAAgAIAAEAAAARAAYAAgAIAAEAAAARAAcAAgAIAAEAAAARAAgAAgAIAAEAAAARAAkAAgAIAAEAAAARAAoAAgAIAAEAAAARAAsAAgAIAAEAAAARAAwAAgAIAAEAAAASAAIAAgAIAAEAAAASAAMAAgAIAAEAAAASAAQAAgAIAAEAAAASAAUAAgAIAAEAAAASAAYAAgAIAAEAAAASAAcAAgAIAAEAAAASAAgAAgAIAAEAAAASAAkAAgAIAAEAAAASAAoAAgAIAAEAAAASAAsAAgAIAAEAAAASAAwAAgAIAAEAAAATAAIAAgAIAAEAAAATAAMAAgAIAAEAAAATAAQAAgAIAAEAAAATAAUAAgAIAAEAAAATAAYAAgAIAAEAAAATAAcAAgAIAAEAAAATAAgAAgAIAAEAAAATAAkAAgAIAAEAAAATAAoAAgAIAAEAAAATAAsAAgAIAAEAAAATAAwAAgAIAAEAAAAUAAIAAgAIAAEAAAAUAAMAAgAIAAEAAAAUAAQAAgAIAAEAAAAUAAUAAgAIAAEAAAAUAAYAAgAIAAEAAAAUAAcAAgAIAAEAAAAUAAgAAgAIAAEAAAAUAAkAAgAIAAEAAAAUAAoAAgAIAAEAAAAUAAsAAgAIAAEAAAAUAAwAAgAIAAEAAAAVAAIAAgAIAAEAAAAVAAMAAgAIAAEAAAAVAAQAAgAIAAEAAAAVAAUAAgAIAAEAAAAVAAYAAgAIAAEAAAAVAAcAAgAIAAEAAAAVAAgAAgAIAAEAAAAVAAkAAgAIAAEAAAAVAAoAAgAIAAEAAAAVAAsAAgAIAAEAAAAVAAwAAgAIAAEAAAAWAAIAAgAIAAEAAAAWAAMAAgAIAAEAAAAWAAQAAgAIAAEAAAAWAAUAAgAIAAEAAAAWAAYAAgAIAAEAAAAWAAcAAgAIAAEAAAAWAAgAAgAIAAEAAAAWAAkAAgAIAAEAAAAWAAoAAgAIAAEAAAAWAAsAAgAIAAEAAAAWAAwAAgAIAAEAAAAXAAIAAgAIAAEAAAAXAAMAAgAIAAEAAAAXAAQAAgAIAAEAAAAXAAUAAgAIAAEAAAAXAAYAAgAIAAEAAAAXAAcAAgAIAAEAAAAXAAgAAgAIAAEAAAAXAAkAAgAIAAEAAAAXAAoAAgAIAAEAAAAXAAsAAgAIAAEAAAAXAAwAAgAIAAEAAAAHAAIAAgAIAAEAAAAHAAMAAgAIAAEAAAAHAAQAAgAIAAEAAAAHAAUAAgAIAAEAAAAHAAYAAgAIAAEAAAAHAAcAAgAIAAEAAAAHAAgAAgAIAAEAAAAHAAkAAgAIAAEAAAAHAAoAAgAIAAEAAAAHAAsAAgAIAAEAAAAHAAwAAgAIAAEAAAAGAAkAAgAIAAEAAAAGAAoAAgAIAAEAAAAGAAsAAgAIAAEAAAAGAAwAAgAIAAEAAAAYAAoAAgAIAAEAAAAYAAsAAgAIAAEAAAAYAAwAAgAIAAEAAAAZAAoAAgAIAAEAAAAZAAsAAgAIAAEAAAAZAAwAAgAIAAEAAAAaAAoAAgAIAAEAAAAaAAsAAgAIAAEAAAAaAAwAAgAIAAEAAAAYAAYAAgAIAAEAAAAYAAcAAgAIAAEAAAAYAAgAAgAIAAEAAAAZAAYAAgAIAAEAAAAZAAcAAgAIAAEAAAAZAAgAAgAIAAEAAAAaAAYAAgAIAAEAAAAaAAcAAgAIAAEAAAAaAAgAAgAIAAEAAAANAAAAAgAIAAEAAAANAAEAAgAIAAEAAAA=")
tile_set = ExtResource("2_haetb")

[node name="Loop1" type="Area2D" parent="."]
script = ExtResource("3_nbwjy")
loop_target = "uid://cd5hqa33mccnu"
loop_shift = Vector2(864, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Loop1"]
position = Vector2(0, 368)
shape = SubResource("RectangleShape2D_56li3")

[node name="Loop1b" type="Area2D" parent="."]
script = ExtResource("3_nbwjy")
loop_target = "uid://cd5hqa33mccnu"
loop_shift = Vector2(-864, 0)
loop_mode = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Loop1b"]
position = Vector2(864, 368)
shape = SubResource("RectangleShape2D_56li3")

[node name="Loop2" type="Area2D" parent="."]
script = ExtResource("3_nbwjy")
loop_target = "uid://bbeer48b3sdk3"
loop_shift = Vector2(864, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Loop2"]
position = Vector2(-0.72732544, 240)
shape = SubResource("RectangleShape2D_vw2xq")

[node name="Loop3" type="Area2D" parent="."]
script = ExtResource("3_nbwjy")
loop_target = "uid://c8eic7p7bwbnk"
loop_shift = Vector2(864, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Loop3"]
position = Vector2(-0.72732544, 112)
shape = SubResource("RectangleShape2D_vw2xq")

[node name="Collectible" parent="." instance=ExtResource("4_vw2xq")]
position = Vector2(120, 112)
metadata/object_id = &"LoopRoom1/./Collectible"

[connection signal="body_entered" from="Loop1" to="Loop1" method="_on_body_entered"]
[connection signal="body_exited" from="Loop1" to="Loop1" method="_on_body_exited"]
[connection signal="body_entered" from="Loop1b" to="Loop1b" method="_on_body_entered"]
[connection signal="body_exited" from="Loop1b" to="Loop1b" method="_on_body_exited"]
[connection signal="body_entered" from="Loop2" to="Loop2" method="_on_body_entered"]
[connection signal="body_exited" from="Loop2" to="Loop2" method="_on_body_exited"]
[connection signal="body_entered" from="Loop3" to="Loop3" method="_on_body_entered"]
[connection signal="body_exited" from="Loop3" to="Loop3" method="_on_body_exited"]
